<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–î–ª—è –õ–∏–Ω—ã üíï</title>
<style>
body{
    margin:0;
    overflow:hidden;
    background:linear-gradient(135deg,#ff9ecb,#ff5e9c);
    font-family:'Segoe UI',sans-serif;
    display:flex;
    justify-content:center;
    align-items:center;
    flex-direction:column;
    height:100vh;
    color:white;
    animation: bgShift 10s ease-in-out infinite alternate;
}
@keyframes bgShift{
    0%{background:linear-gradient(135deg,#ff9ecb,#ff5e9c);}
    50%{background:linear-gradient(135deg,#ff5e9c,#ff9ecb);}
    100%{background:linear-gradient(135deg,#ff9ecb,#ff5e9c);}
}
canvas{
    position:fixed;
    top:0;
    left:0;
    z-index:0;
    pointer-events:none; /* —Ñ–∏–∫—Å –∫–ª–∏–∫–æ–≤ */
}
.big-heart{
    font-size:120px;
    cursor:pointer;
    user-select:none;
    z-index:2;
    transition:0.3s;
    animation:pulse 1.5s infinite;
}
@keyframes pulse{
    0%{transform:scale(1);}
    50%{transform:scale(1.05);}
    100%{transform:scale(1);}
}
.card{
    z-index:2;
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(10px);
    padding:25px;
    border-radius:20px;
    margin-top:15px;
    text-align:center;
}
.final-text{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    font-size:60px;
    font-weight:bold;
    color:white;
    text-align:center;
    opacity:0;
    z-index:3;
    pointer-events:none;
}
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<div id="bigHeart" class="big-heart" onclick="growHeart()">‚ù§</div>

<div class="card">
    <h1>–õ–∏–Ω–∞ üíñ</h1>
    <p>–¢—ã–∫–∞–π –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–æüíï</p>
</div>

<div id="finalText" class="final-text">–õ–∏–Ω–∞, –±—É–¥—å –º–æ–µ–π –Ω–∞–≤—Å–µ–≥–¥–∞! üíñ</div>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let particles = [];
let size = 120;
let isRed = false;
let texts = [];
let finalShown = false;

const textMessages = [
    "–Ø –ª—é–±–ª—é —Ç–µ–±—è, –õ–∏–Ω–∞ üíï",
    "–¢—ã –º–æ—ë —Å—á–∞—Å—Ç—å–µ üò≥",
    "–¢—ã ‚Äî –º–æ–π —Å–≤–µ—Ç üå∏",
    "–ù–∞–≤—Å–µ–≥–¥–∞ —Ç–≤–æ–π ‚ù§Ô∏è",
    "–¢—ã –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞ üíñ",
    "–ú–æ—ë —Å–µ—Ä–¥—Ü–µ —Ç–≤–æ—ë üíó"
];

window.addEventListener("resize", ()=>{
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});

function createParticle(){
    return {
        x: Math.random()*canvas.width,
        y: Math.random()*canvas.height,
        size: Math.random()*15+8,
        speedX: (Math.random()-0.5)*0.8,
        speedY: (Math.random()-0.5)*0.8,
        life: finalShown ? Infinity : 180,
        color: isRed ? "red" : "white",
        sparkle: Math.random()<0.3
    };
}

function drawHeart(x,y,size,color,sparkle){
    ctx.fillStyle=color;
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.bezierCurveTo(x, y-size/2, x-size, y-size/2, x-size, y);
    ctx.bezierCurveTo(x-size, y+size/2, x, y+size, x, y+size);
    ctx.bezierCurveTo(x, y+size, x+size, y+size/2, x+size, y);
    ctx.bezierCurveTo(x+size, y-size/2, x, y-size/2, x, y);
    ctx.fill();
    if(sparkle){
        ctx.fillStyle="white";
        ctx.fillRect(x+Math.random()*10-5,y+Math.random()*10-5,2,2);
    }
}

function growHeart(){
    size += 15;
    const heart = document.getElementById("bigHeart");
    heart.style.fontSize = size + "px";

    if(size > 300 && !isRed){
        heart.innerHTML = "‚ù§Ô∏è";
        isRed = true;
    }

    if(size > 500 && !finalShown){
        showFinal();
    }

    for(let i=0;i<20;i++) particles.push(createParticle());
}

function showFinal(){
    finalShown = true;
    document.getElementById("finalText").style.opacity = 1;
}

function animate(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    for(let i=particles.length-1;i>=0;i--){
        const p = particles[i];
        p.x += p.speedX;
        p.y += p.speedY;
        if(p.life !== Infinity) p.life--;
        drawHeart(p.x,p.y,p.size,p.color,p.sparkle);
        if(p.life <= 0 && p.life !== Infinity) particles.splice(i,1);
    }

    requestAnimationFrame(animate);
}

animate();
</script>

</body>
</html>
